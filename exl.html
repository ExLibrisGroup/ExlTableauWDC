<html>
<head>
    <title>Ex Libris Analytics Tableau Web Data Container</title>
    <meta http-equiv="Cache-Control" content="no-store" />

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.3/themes/default/style.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.3/jstree.min.js"></script>
    <link rel="stylesheet" href="https://cdn.rawgit.com/orangehill/jstree-bootstrap-theme/f30e3fc7/dist/themes/proton/style.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.1.3/js.cookie.min.js" type="text/javascript"></script>
    <script src="https://connectors.tableau.com/libs/tableauwdc-2.1.latest.js" type="text/javascript"></script>
    <script src="exl.js" type="text/javascript"></script>
</head>

<body>
    <div class="container">
    <div class="row">
    <h1>Ex Libris Tableau Web Data Connector</h1>
    <form class="form-horizontal">
        <div class="form-group">
            <label for="txtApiKey" class="control-label col-xs-2">API Key</label>
            <div class="col-xs-10">
                <input type="text" class="form-control" id="txtApiKey" placeholder="e.g. l7xx04fbcedffds882393xxd4323bxxxxx1">
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-offset-2 col-xs-10">
                <div class="checkbox">
                    <label><input type="checkbox" id="chkRemember" checked="true"> Remember key</label>
                </div>
            </div>
        </div>        
        <div id="reportUrl">
        <div class="form-group">
            <label for="radioApplication" class="control-label col-xs-2">Application</label>
            <div class="col-xs-10">
                <label class="radio-inline"><input type="radio" name="radioApplication" value="almaws" checked=checked>Alma</label>
                <label class="radio-inline"><input type="radio" name="radioApplication" value="primo">Primo</label>
            </div>
        </div>    
        <div class="form-group">
            <label for="txtReportPath" class="control-label col-xs-2">Report Path</label>
            <div class="col-xs-10">
                <div class="input-group">
                    <input type="text" class="form-control" id="txtReportPath" placeholder="e.g. /shared/Alma/Fulfillment/Reports/Count of Items Loaned by Patron Group">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" href="#tree" data-toggle="collapse">
                            <span class="glyphicon glyphicon-search"></span>
                            &nbsp;
                        </button>
                    </span>
                </div>
                <div id="tree" class="collapse"></div>
                <span class="help-block">
                    The path (including the report name) of the Analytics report. Click on the search icon to search your report library. Alternatively, see this
                    <a href="https://developers.exlibrisgroup.com/blog/Working-with-Analytics-REST-APIs" target="_blank">blog post</a>
                    for how to retrieve the path manually.
                </span>
            </div>
        </div>
        <div class="form-group">
            <label for="selectEndpoint" class="control-label col-xs-2">Region</label>
            <div class="col-xs-10">
                <select id="selectEndpoint" class="form-control">
                    <option value="https://api-na.hosted.exlibrisgroup.com">NA</option>
                    <option value="https://api-eu.hosted.exlibrisgroup.com">EU</option>
                    <option value="https://api-ap.hosted.exlibrisgroup.com">APAC</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label for="selectMaxRows" class="control-label col-xs-2">Max number of rows</label>
            <div class="col-xs-4">
                <select id="selectMaxRows" class="form-control">
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                    <option value="250">250</option>
                    <option value="500">500</option>
                    <option value="1000" selected>1000</option>
                    <option value="2000">2000</option>
                    <option value="5000">5000</option>
                    <option value="10000">10000</option>
                    <option value="25000">25000</option>
                    <option value="50000">50000</option>
                    <option value="100000">100000</option>
                    <option value="250000">250000</option>
                    <option value="500000">500000</option>
                    <option value="750000">750000</option>
                </select>
            </div>
            <label for="selectPageSize" class="control-label col-xs-2">Page size</label>
            <div class="col-xs-4">
                <select id="selectPageSize" class="form-control">
                    <option value="25">25</option>
                    <option value="100">100</option>
                    <option value="250">250</option>
                    <option value="500" selected>500</option>
                    <option value="1000">1000</option>
                </select>
            </div>
        </div>               
        </div>
        <div class="form-group">
            <div class="col-xs-offset-2 col-xs-10">
                <button type="button" id="submitButton" class="btn btn-primary">Get data</button>
            </div>
        </div>
    </form>
    </div>
    </div>
</body>
</html>

